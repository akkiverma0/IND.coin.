<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>IND.COIN</title>
  <link rel="icon" href="https://i.ibb.co/xqLwJ8bd/IMG-20250518-124828-459.webp" type="image/png">
  <style>
    html, body {height:100%;min-height:100vh;width:100vw;margin:0;padding:0;box-sizing:border-box;overflow-x:hidden;
      background: linear-gradient(120deg, #FFD700 0%, #FFA600 100%);
    }
    body {font-family: 'Segoe UI', Arial, sans-serif;color: #7b5600;min-height: 100vh;}
    #authModal {display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999999;
      background:rgba(0,0,0,0.35);align-items:center;justify-content:center;}
    #authModal .auth-box {background:#fffbe6;padding:22px 22px 18px 22px;min-width:320px;border-radius:14px;
      box-shadow:0 4px 24px #FFD70033;width:350px;}
    #authModal input, #authModal button {font-size:15px;}
    #authModal input {margin:6px 0;}
    #authModal button {margin-top:9px;}
    #splash-screen {position: fixed;top: 0; left: 0; width: 100vw; height: 100vh;display: flex;
      flex-direction: column; justify-content: center; align-items: center; z-index: 10000;
      background: linear-gradient(135deg, #FFD700 0%, #FFA600 100%);
    }
    .welcome-photo {width: 108px; height: 108px; border-radius: 50%; margin-bottom: 22px; object-fit: cover;
      background: #fff;box-shadow: 0 2px 22px #FFD70099, 0 3px 18px #FFA60055;animation: spin 0.5s linear infinite;}
    @keyframes spin {0%{transform:rotate(0);}100%{transform:rotate(360deg);}}
    .start-btn-3d {background: #FFD700;border: none;border-radius: 50%;width: 84px;height: 84px;color: #fff;
      font-size: 2rem;display: flex; align-items: center; justify-content: center;margin: 24px auto 0 auto;
      box-shadow: 0 2px 12px #FFD70088;cursor: pointer;transition: background .18s, box-shadow .18s;}
    .start-btn-3d:hover {background: #FFA600;box-shadow: 0 4px 18px #FFD70077;}
    .start-icon-3d {width:48px;height:48px;}
    .tab-bar {display: flex;justify-content: space-around;background: linear-gradient(90deg, #FFD700 60%, #FFA600 100%);
      border-top: 2px solid #FFD700;padding: 4px 0 2px 0;position: fixed;bottom: 0;width: 100vw;height: 60px;z-index: 1000;
      box-shadow: 0 -2px 12px #FFD70055;margin-bottom: 0;}
    .tab-button {background: none;border: none;border-radius: 8px;color: #7b5600;font-size: 13px;display: flex;
      flex-direction: column; align-items: center;padding: 3px 0 1px 0;flex: 1;transition: background 0.18s, color 0.18s;
      height: 56px;font-weight: 600;}
    .tab-button img {width: 26px; height: 26px; margin-bottom: 3px;}
    .tab-button.active, .tab-button:focus {background: #ffe68c;color: #FFA600;}
    .tab-content {min-height: calc(100vh - 60px);padding: 0 0 90px 0;margin: 0;box-sizing: border-box;
      background: linear-gradient(120deg, #FFFBE6 0%, #FFD70011 100%);}
    .centered {max-width: 480px;margin: 0 auto;padding: 18px 18px 8px 18px;text-align: center;background: #fffde4;
      border-radius: 14px;box-shadow: 0 2px 18px #FFD70018;margin-top: 18px;}
    .balance-card {margin: 18px auto 12px;padding: 13px 22px;max-width: 310px;font-size: 19px;border-radius: 12px;
      background: linear-gradient(90deg, #FFD700 65%, #FFA600 100%);color: #7b5600;font-weight: 700;border: none;
      box-shadow: 0 1px 8px #FFD70033;}
    .balance-card.usdt {margin-top: 22px;background: linear-gradient(90deg, #fffbe6 60%, #FFE066 100%);color: #B07B00;}
    .fan-image {width: 124px; height: 124px; margin: 18px auto 8px; border-radius: 50%;
      background-image: url('https://i.ibb.co/xqLwJ8bd/IMG-20250518-124828-459.webp');background-size: cover;
      background-position: center;box-shadow: 0 4px 14px #FFD70099;border: 3px solid #FFD700;background-color: #fffbe6;
      animation: spin 0.5s linear infinite;}
    .button-row {display:flex;justify-content:center;gap:13px;margin:20px 0 24px;}
    .tfun-btn {background: #fffbe6;color: #B07B00;font-size: 15px;font-weight: 700;padding: 11px 28px;
      border: 1.8px solid #FFD700;border-radius: 8px;display: flex; align-items: center; gap: 7px;cursor: pointer;
      box-shadow: none;outline: none;transition: background 0.16s, color 0.16s, border-color 0.16s;}
    .tfun-btn:hover, .tfun-btn:focus {background: #FFD700;color: #fff;border-color: #FFA600;}
    .tfun-btn img {filter: grayscale(0) brightness(1) sepia(1) hue-rotate(-30deg) saturate(5) brightness(1.3);}
    .exchange-btn {font-weight:700;}
    .exchange-row {display:flex;flex-direction:column;gap:12px;margin-top:12px;}
    .assets-options {display:flex;flex-direction:column;gap:14px;margin:22px 0;}
    .social-icons {display:flex;justify-content:center;gap:9px;margin-top:16px;}
    .social-icons img {width:32px;height:32px;border-radius:7px;cursor:pointer;border:2px solid #FFD700;background:#fff;
      box-shadow:0 1px 8px #FFD70022;transition:box-shadow 0.14s, border 0.14s;}
    .social-icons img:hover {border:2px solid #FFA600;box-shadow:0 3px 14px #FFD70099;}
    #mytab form {display:flex;flex-direction:column;gap:10px;margin-top:7px;}
    #mytab label {font-size:14px;font-weight:500;color:#B07B00;margin-bottom:2px;margin-top:6px;display:block;}
    #mytab input, #mytab select {width:100%;padding:12px 11px;border-radius:7px;border:1.8px solid #FFD700;
      font-size:15px;background:#fffbe6;color:#7b5600;outline:none;margin-bottom:0;font-weight:500;box-sizing:border-box;
      transition:border 0.16s;}
    #mytab input:focus, #mytab select:focus {border:2.3px solid #FFA600;background:#fff;}
    .tfun-save-btn {width:100%;display:flex;align-items:center;justify-content:center;gap:9px;padding:13px 0 12px 0;
      border-radius:8px;border:1.8px solid #FFD700;font-size:16px;font-weight:700;background:#fffbe6;color:#B07B00;
      box-shadow:none;letter-spacing:.2px;margin-top:10px;transition:background 0.18s, color 0.18s, border 0.18s;}
    .tfun-save-btn[disabled] {background:#FFE066 !important;color:#b2a45b !important;opacity:0.6;cursor:not-allowed;}
    .tfun-save-btn:hover, .tfun-save-btn:focus {background:#FFD700;color:#fff;border-color:#FFA600;}
    .tfun-save-btn img {margin:0;display:inline-block;filter: grayscale(0) brightness(1) sepia(1) hue-rotate(-30deg)
      saturate(5) brightness(1.2);}
    #profileSavedMsg {color:#B07B00;text-align:center;margin-top:12px;font-size:15px;font-weight:600;display:none;}
    .ind-footer {width:100vw;background: linear-gradient(90deg, #FFD700 70%, #FFA600 100%);color:#7b5600;text-align:center;
      font-size:15px;padding:16px 0 18px 0;font-weight:700;position:fixed;left:0;bottom:0;z-index:999;letter-spacing:0.3px;
      box-shadow:0 -2px 10px #FFD70022;pointer-events:none;user-select:none;}
    .footer-logo {width:24px;height:24px;vertical-align:middle;border-radius:50%;margin-left:7px;box-shadow:0 1px 5px #FFD70033;
      border:2px solid #fff;background:#fff;}
  </style>
</head>
<body>
<!-- Auth Modal (Sign Up / Login) -->
<div id="authModal">
  <div class="auth-box">
    <h2 id="authTitle" style="color:#B07B00;">Sign Up</h2>
    <form id="signupForm">
      <input name="username" type="text" placeholder="Username" required style="width:100%;">
      <input name="password" type="password" placeholder="Password" required style="width:100%;">
      <input name="mobile" type="tel" placeholder="Mobile Number" required style="width:100%;">
      <input name="email" type="email" placeholder="Email ID" required style="width:100%;">
      <input name="otp" type="text" placeholder="Enter OTP" required style="width:100%;display:none;">
      <input name="referral" type="text" placeholder="Referral Code (Optional)" style="width:100%;">
      <button type="button" id="sendOtpBtn" style="background:#FFD700;color:#fff;padding:8px 0;width:100%;border:none;border-radius:7px;">Send OTP</button>
      <button type="submit" style="background:#FFA600;color:#fff;padding:8px 0;width:100%;border:none;border-radius:7px;display:none;" id="signupSubmitBtn">Sign Up</button>
    </form>
    <div style="text-align:center;margin-top:7px;font-size:14px;">
      <span id="switchAuth" style="color:#B07B00;cursor:pointer;">Already have an account? Login</span>
    </div>
  </div>
</div>

<!-- Splash Screen -->
<div id="splash-screen">
  <img src="https://i.ibb.co/xqLwJ8bd/IMG-20250518-124828-459.webp" alt="Welcome" class="welcome-photo" />
  <h1 style="color:#FFD700;letter-spacing:1px;font-size:2.1em;">IND.COIN</h1>
  <button class="start-btn-3d" id="startGameBtn" tabindex="0">
    <img src="https://img.icons8.com/ios-filled/90/ffffff/image.png" alt="Photo" class="start-icon-3d"/>
  </button>
</div>
<div id="home" class="tab-content" style="display:none;">
  <div class="centered">
    <div class="balance-card usdt" id="usdt-balance-card">
      Balance: <strong><span id="usdt-balance">0.00</span> USDT</strong>
    </div>
    <div class="balance-card" id="balance-card">
      Balance: <strong>0.000000 IND.COIN</strong>
    </div>
    <div class="fan-image"></div>
    <div style="font-size:16px;margin-bottom:5px;color:#B07B00;">
      <span id="live-balance">0.000000000 IND.coin</span>
    </div>
    <div style="font-size:14px;color:#B07B00;">
      Hashrate: <span id="hashrate-display">2</span> GH/s ‚ö°
    </div>
    <div class="button-row">
      <button class="tfun-btn" id="claimBtn" onclick="claimCoins()">
        <img src="https://img.icons8.com/ios-filled/50/stack-of-coins.png" width="20" /> Claim
      </button>
      <button class="tfun-btn" onclick="boostHashrate()">
        <img src="https://img.icons8.com/ios-filled/50/upload.png" width="20" /> Boost
      </button>
    </div>
    <div class="social-icons">
      <a href="#" onclick="giveSocialBonus('telegram', event)">
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram" />
      </a>
      <a href="#" onclick="giveSocialBonus('facebook', event)">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" alt="Facebook" />
      </a>
      <a href="#" onclick="giveSocialBonus('instagram', event)">
        <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram" />
      </a>
      <a href="#" onclick="giveSocialBonus('threads', event)">
        <img src="https://cdn-icons-png.flaticon.com/512/5968/5968885.png" alt="Threads" />
      </a>
    </div>
    <div style="margin-top:25px;color:#B07B00;font-size:12px;">
      Your user ID: <span id="userId"></span>
    </div>
  </div>
</div>
<div id="assets" class="tab-content" style="display:none;">
  <div class="centered">
    <h2 style="color:#B07B00;">
      <img src="https://img.icons8.com/ios-filled/50/FFD700/coins--v1.png" style="vertical-align:middle;width:28px;height:28px;"/> Assets
    </h2>
    <div class="balance-card" id="wallet-balance-card">
      Assets Balance: <strong>0.000000 IND.COIN</strong>
    </div>
    <button class="tfun-btn exchange-btn" id="exchangeMainBtn" onclick="toggleExchangeMenu()">
      <img src="https://img.icons8.com/ios-filled/30/FFD700/currency-exchange.png" width="26" alt="Exchange Icon"/>
      Exchange üí±
    </button>
    <div class="exchange-row" id="exchangeOptions" style="display:none;">
      <button class="tfun-btn" id="usdt2indBtn">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/us-dollar-circled--v1.png" width="22" />
        USDT <span style="margin:0 8px;">‚áÑ</span> IND.COIN
      </button>
      <button class="tfun-btn" id="ind2usdtBtn">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/coins.png" width="22" />
        IND.COIN <span style="margin:0 8px;">‚áÑ</span> USDT
      </button>
    </div>
    <div class="assets-options">
      <button class="tfun-btn" onclick="alert('Deposit Coming Soon!')">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/download-2.png" width="18" /> Deposit
      </button>
      <button class="tfun-btn" onclick="alert('Withdrawal Coming Soon!')">
        <img src="https://img.icons8.com/ios-filled/50/fa314a/upload.png" width="18" /> Withdrawal
      </button>
      <button class="tfun-btn" onclick="alert('Settings Coming Soon!')">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/settings.png" width="18" /> Setting
      </button>
      <button class="tfun-btn" onclick="openHistoryModal()">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/activity-history.png" width="18" /> History
      </button>
    </div>
    <p style="color:#B07B00;font-size:13px;margin-top:20px;">Withdrawal program soon...</p>
  </div>
</div>
<div id="stake" class="tab-content" style="display:none;">
  <div class="centered">
    <h2 style="color:#B07B00;">
      <img src="https://img.icons8.com/ios-filled/50/FFD700/bank-cards.png" style="vertical-align:middle;width:28px;height:28px;"/> Stake
    </h2>
    <p style="font-size:15px;color:#B07B00;">Stake your IND.COIN and earn rewards!</p>
    <button class="tfun-btn" onclick="alert('Staking coming soon!')" style="margin-top:10px;">
      <img src="https://img.icons8.com/ios-filled/50/FFD700/stack-of-coins.png" width="18" /> Stake Now
    </button>
    <div style="margin-top:15px;color:#B07B00;">
      <strong>Staking feature coming soon.<br>Stay tuned!</strong>
    </div>
  </div>
</div>
<div id="more" class="tab-content centered" style="display:none;">
  <div style="background:#FFFBE6;margin:4px 0 14px 0;padding:14px;border-radius:10px;">
    <div style="color:#B07B00;font-weight:bold;font-size:17px;">Welcome to IND Coin</div>
  </div>
  <div style="padding:0;">
    <div class="centered" style="margin-top:12px;background:#FFFBE6;box-shadow:none;">
      <h2 style="font-size:19px;color:#B07B00;">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/group.png" style="vertical-align:middle;width:26px;height:26px;"/> Friends
      </h2>
      <p style="font-size:13px;">Invite and view your friends here.</p>
      <div style="margin-top:16px;background:#fff;padding:13px;border-radius:12px;box-shadow:0 1px 8px #FFD70022;">
        <h3 style="font-size:15px;color:#B07B00;">ü™ô Level Income IND.COIN ü™ô</h3>
        <ul style="text-align:left;font-size:13px;">
          <li>1st Level Bonus: <strong>5000 IND.COIN</strong></li>
          <li>2nd Level Bonus: <strong>2000 IND.COIN</strong></li>
          <li>3rd Level Bonus: <strong>1000 IND.COIN</strong></li>
        </ul>
        <h3 style="font-size:15px;color:#B07B00;">üéÅ Level Income Bonus üéÅ</h3>
        <ul style="text-align:left;font-size:13px;">
          <li>1st Level Income: <strong>30%</strong></li>
          <li>2nd Level Income: <strong>25%</strong></li>
          <li>3rd Level Income: <strong>10%</strong></li>
        </ul>
        <p style="color:#B07B00;margin-top:7px;font-size:12px;">Notes ‚õèÔ∏è next soon</p>
      </div>
    </div>
    <div class="more-options" style="padding:0 2px;display:flex;flex-direction:column;gap:14px;margin-top:16px;">
      <button class="tfun-btn" onclick="alert('Your ID copied!')">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/id-verified.png" width="18" style="vertical-align:middle;"/> My ID
        <span id="userId2" style="font-weight:600;margin-left:auto;">Loading...</span>
      </button>
      <button class="tfun-btn" onclick="openLanguageModal()">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/language.png" width="18" style="vertical-align:middle;"/> Language
        <span id="selectedLang" style="margin-left:auto;">
          <img src="https://flagcdn.com/us.svg" width="16" style="vertical-align:middle;"/> English
        </span>
      </button>
      <button class="tfun-btn" onclick="openAIChat()">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/help.png" width="18" style="vertical-align:middle;"/> Contact Support
      </button>
      <button class="tfun-btn" onclick="alert('Legal page will open.')">
        <img src="https://img.icons8.com/ios-filled/50/FFD700/legal.png" width="18" style="vertical-align:middle;"/> Legal Information
      </button>
    </div>
  </div>
</div>
<div id="mytab" class="tab-content centered" style="display:none;">
  <h2 style="color:#B07B00;">
    <img src="https://img.icons8.com/ios-filled/50/FFD700/user-male-circle.png" style="vertical-align:middle;width:28px;height:28px;"/> MY Profile
  </h2>
  <form id="profileForm">
    <label>Nationality</label>
    <input type="text" name="nationality" placeholder="Nationality" required>
    <label>Wallet</label>
    <input type="text" name="wallet" placeholder="Wallet address" required>
    <label>Name</label>
    <input type="text" name="username" placeholder="Name" required>
    <label>Mobile</label>
    <input type="tel" name="mobile" placeholder="Mobile number" required>
    <label>Email</label>
    <input type="email" name="email" placeholder="Email" required>
    <label>Gender</label>
    <select name="gender" required>
      <option value="">Select</option>
      <option value="Male">Male</option>
      <option value="Female">Female</option>
      <option value="Other">Other</option>
    </select>
    <label>Birthday</label>
    <input type="date" name="birthday" required>
    <button type="submit" class="tfun-save-btn" id="saveBtnForm">
      <img src="https://img.icons8.com/ios-filled/24/FFD700/save--v1.png" alt="Save">
      <span>Save</span>
    </button>
  </form>
  <div id="detailsBar" style="background:#FFFBE6;padding:10px 14px;border-radius:8px;margin:18px 0 0 0;text-align:left;font-size:14px;color:#B07B00;">
    <b>Your Information:</b>
    <div id="profileDetails"></div>
  </div>
  <div id="profileSavedMsg" style="color:#B07B00;text-align:center;margin-top:12px;font-size:15px;font-weight:600;display:none;">Profile saved!</div>
</div>
<!-- Tab Bar -->
<div class="tab-bar" style="display:none;">
  <button onclick="showTab('home')" class="tab-button active" id="btn-home">
    <img src="https://img.icons8.com/ios-filled/50/FFD700/home.png" alt="Home" />
    <span>Home</span>
  </button>
  <button onclick="showTab('assets')" class="tab-button" id="btn-assets">
    <img src="https://img.icons8.com/ios-filled/50/FFD700/coins--v1.png" alt="Assets" />
    <span>Assets</span>
  </button>
  <button onclick="showTab('stake')" class="tab-button" id="btn-stake">
    <img src="https://img.icons8.com/ios-filled/50/FFD700/bank-cards.png" alt="Stake" />
    <span>Stake</span>
  </button>
  <button onclick="showTab('more')" class="tab-button" id="btn-more">
    <img src="https://img.icons8.com/ios-filled/50/FFD700/settings-sliders.png" alt="More" />
    <span>More</span>
  </button>
  <button onclick="showTab('mytab')" class="tab-button" id="btn-mytab">
    <img src="https://img.icons8.com/ios-filled/50/FFD700/user-male-circle.png" alt="MY" />
    <span>MY</span>
  </button>
</div>
<div class="ind-footer">
  ¬© Powered by <b>IND.coin</b> 
  <img src="https://i.ibb.co/xqLwJ8bd/IMG-20250518-124828-459.webp" class="footer-logo" alt="IND.COIN Logo">
</div>
<!-- AI Chat Modal -->
<div id="aiChatModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.28);z-index:99999;align-items:center;justify-content:center;">
  <div style="background:#fffbe6;max-width:93vw;width:370px;min-height:340px;border-radius:14px;box-shadow:0 4px 24px #FFD70033;padding:0 0 10px 0;display:flex;flex-direction:column;position:relative;">
    <div style="background:#FFD700;padding:14px 0 12px 0;border-radius:14px 14px 0 0;text-align:center;color:#7b5600;font-weight:700;font-size:17px;">
      üëã AI Support Chat ‚Äì IND.COIN
      <button onclick="closeAIChat()" style="position:absolute;right:12px;top:13px;background:none;border:none;font-size:17px;color:#B07B00;cursor:pointer;">‚úñ</button>
    </div>
    <div id="aiChatMessages" style="flex:1;overflow-y:auto;padding:16px 14px 6px 14px;height:230px;font-size:15px;line-height:1.5;"></div>
    <form id="aiChatForm" style="padding:0 10px 0 10px;display:flex;gap:6px;">
      <input id="aiChatInput" type="text" placeholder="Type your question..." style="flex:1;padding:8px 9px;border-radius:7px;border:1.4px solid #FFD700;font-size:15px;background:#fff;color:#B07B00;">
      <button type="submit" style="background:#FFD700;color:#fff;padding:8px 14px;border-radius:7px;border:none;font-size:15px;font-weight:600;cursor:pointer;">Send</button>
    </form>
  </div>
</div>
<!-- Language Modal -->
<div id="languageModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:99999;background:rgba(0,0,0,0.28);align-items:center;justify-content:center;">
  <div style="background:#fffbe6;max-width:93vw;width:330px;border-radius:14px;box-shadow:0 4px 24px #FFD70033;padding:0 0 10px 0;display:flex;flex-direction:column;position:relative;">
    <div style="background:#FFD700;padding:14px 0 12px 0;border-radius:14px 14px 0 0;text-align:center;color:#7b5600;font-weight:700;font-size:17px;">
      üåê Select Language
      <button onclick="closeLanguageModal()" style="position:absolute;right:12px;top:13px;background:none;border:none;font-size:17px;color:#B07B00;cursor:pointer;">‚úñ</button>
    </div>
    <div style="padding:18px 16px 0 16px;max-height:260px;overflow:auto;">
      <div id="langList"></div>
    </div>
  </div>
</div>
<!-- History Modal -->
<div id="historyModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:99999;background:rgba(0,0,0,0.28);align-items:center;justify-content:center;">
  <div style="background:#fffbe6;max-width:93vw;width:350px;border-radius:14px;box-shadow:0 4px 24px #FFD70033;padding:0 0 10px 0;display:flex;flex-direction:column;position:relative;">
    <div style="background:#FFD700;padding:14px 0 12px 0;border-radius:14px 14px 0 0;text-align:center;color:#7b5600;font-weight:700;font-size:17px;">
      üïí Transaction History
      <button onclick="closeHistoryModal()" style="position:absolute;right:12px;top:13px;background:none;border:none;font-size:17px;color:#B07B00;cursor:pointer;">‚úñ</button>
    </div>
    <div id="historyList" style="padding:15px 14px 8px 14px;max-height:340px;overflow:auto;font-size:14px;"></div>
  </div>
</div>
<script>
// ------------ AUTH SYSTEM -------------
function showAuthModal() {
  document.getElementById('authModal').style.display = 'flex';
}
function hideAuthModal() {
  document.getElementById('authModal').style.display = 'none';
}
document.getElementById('switchAuth').onclick = function() {
  let title = document.getElementById('authTitle');
  let form = document.getElementById('signupForm');
  if(title.innerText === "Sign Up") {
    title.innerText = "Login";
    form.innerHTML = `
      <input name="username" type="text" placeholder="Username/Email/Mobile" required style="width:100%;">
      <input name="password" type="password" placeholder="Password" required style="width:100%;">
      <button type="submit" style="background:#FFD700;color:#fff;padding:8px 0;width:100%;border:none;border-radius:7px;">Login</button>
    `;
    this.innerText = "Don't have an account? Sign Up";
  } else {
    title.innerText = "Sign Up";
    form.innerHTML = `
      <input name="username" type="text" placeholder="Username" required style="width:100%;">
      <input name="password" type="password" placeholder="Password" required style="width:100%;">
      <input name="mobile" type="tel" placeholder="Mobile Number" required style="width:100%;">
      <input name="email" type="email" placeholder="Email ID" required style="width:100%;">
      <input name="otp" type="text" placeholder="Enter OTP" required style="width:100%;display:none;">
      <input name="referral" type="text" placeholder="Referral Code (Optional)" style="width:100%;">
      <button type="button" id="sendOtpBtn" style="background:#FFD700;color:#fff;padding:8px 0;width:100%;border:none;border-radius:7px;">Send OTP</button>
      <button type="submit" style="background:#FFA600;color:#fff;padding:8px 0;width:100%;border:none;border-radius:7px;display:none;" id="signupSubmitBtn">Sign Up</button>
    `;
    this.innerText = "Already have an account? Login";
  }
};
document.addEventListener('submit', function(e) {
  if(e.target.id === "signupForm") {
    e.preventDefault();
    let title = document.getElementById('authTitle').innerText;
    if(title === "Login") {
      let uname = e.target.username.value;
      let pwd = e.target.password.value;
      let users = JSON.parse(localStorage.getItem("users")||"{}");
      let user = Object.values(users).find(u => (u.username===uname || u.email===uname || u.mobile===uname) && u.password===pwd);
      if(user) {
        localStorage.setItem("isLoggedIn","1");
        localStorage.setItem("userId", user.username);
        hideAuthModal();
        window.location.reload();
      } else {
        alert("Invalid credentials.");
      }
    } else {
      let uname = e.target.username.value;
      let pwd = e.target.password.value;
      let mob = e.target.mobile.value;
      let email = e.target.email.value;
      let otp = e.target.otp.value;
      let ref = e.target.referral.value;
      if(!otp) { alert("Please click 'Send OTP' first."); return; }
      let enteredOtp = localStorage.getItem("signup_otp");
      if(otp !== enteredOtp) { alert("Invalid OTP."); return; }
      let users = JSON.parse(localStorage.getItem("users")||"{}");
      if(users[uname]) { alert("Username already exists."); return; }
      users[uname] = {username:uname, password:pwd, mobile:mob, email:email, referral:ref};
      localStorage.setItem("users", JSON.stringify(users));
      localStorage.setItem("isLoggedIn","1");
      localStorage.setItem("userId", uname);
      hideAuthModal();
      window.location.reload();
    }
  }
});
document.addEventListener('click', function(e) {
  if(e.target.id === "sendOtpBtn") {
    let form = document.getElementById('signupForm');
    let email = form.email.value;
    if(!email) { alert("Enter Email ID first."); return; }
    localStorage.setItem("signup_otp", "1234");
    form.otp.style.display = "block";
    form.otp.required = true;
    document.getElementById('signupSubmitBtn').style.display = "block";
    alert("OTP sent to " + email + " (Demo OTP: 1234)");
  }
});
window.onload = function() {
  if(!localStorage.getItem("isLoggedIn")) {
    showAuthModal();
    document.getElementById('splash-screen').style.display = "none";
    document.querySelector(".tab-bar").style.display = "none";
    document.querySelectorAll(".tab-content").forEach(tab => tab.style.display = "none");
  } else {
    document.getElementById('authModal').style.display = "none";
    document.getElementById('splash-screen').style.display = "flex";
  }
};
// ------------ END AUTH SYSTEM -------------
// ------------ GAME LOGIC -------------
let userId = localStorage.getItem("userId") || Math.floor(Math.random() * 1e10).toString();
let walletBalance = parseFloat(localStorage.getItem("walletBalance")) || 0;
let miningBalance = parseFloat(localStorage.getItem("miningBalance")) || 0;
let usdtBalance = parseFloat(localStorage.getItem("usdtBalance")) || 0;
let hashrate = parseInt(localStorage.getItem("hashrate")) || 2;
const miningRate = 0.00000009110;
const EXCHANGE_RATE = 100000;
function updateClaimButton() {
  const claimBtn = document.getElementById("claimBtn");
  if (claimBtn) {claimBtn.disabled = miningBalance <= 0;}
}
function updateMiningDisplay() {
  if(document.getElementById('balance-card')) document.getElementById('balance-card').innerHTML = `Balance: <strong>${walletBalance.toFixed(6)} IND.COIN</strong>`;
  if(document.getElementById('usdt-balance')) document.getElementById('usdt-balance').innerText = usdtBalance.toFixed(2);
  if(document.getElementById('live-balance')) document.getElementById('live-balance').innerText = `${miningBalance.toFixed(9)} IND.coin`;
  if(document.getElementById('hashrate-display')) document.getElementById('hashrate-display').innerText = hashrate;
  if(document.getElementById("userId")) document.getElementById("userId").innerText = userId;
  if(document.getElementById("userId2")) document.getElementById("userId2").innerText = userId;
  if(document.getElementById('wallet-balance-card')) document.getElementById('wallet-balance-card').innerHTML = `Assets Balance: <strong>${walletBalance.toFixed(6)} IND.COIN</strong>`;
  updateClaimButton();
}
function mineCoins(elapsedSeconds) {
  miningBalance += elapsedSeconds * hashrate * miningRate;
  localStorage.setItem("miningBalance", miningBalance.toString());
  updateMiningDisplay();
}
function startAutoMining() {
  const lastTime = parseFloat(localStorage.getItem("lastMiningTime")) || Date.now();
  const now = Date.now();
  const elapsed = Math.floor((now - lastTime) / 1000);
  if (elapsed > 0) mineCoins(elapsed);
  setInterval(() => {
    mineCoins(1);
    localStorage.setItem("lastMiningTime", Date.now().toString());
  }, 1000);
}
function startApp() {
  document.getElementById("splash-screen").style.display = "none";
  document.querySelectorAll(".tab-content").forEach(tab => tab.style.display = "none");
  document.getElementById("home").style.display = "block";
  document.querySelector(".tab-bar").style.display = "flex";
  updateMiningDisplay();
  startAutoMining();
}
document.getElementById("startGameBtn").onclick = startApp;
function showTab(tabId) {
  document.querySelectorAll(".tab-content").forEach(tab => tab.style.display = "none");
  document.getElementById(tabId).style.display = "block";
  document.querySelectorAll(".tab-button").forEach(btn => btn.classList.remove("active"));
  const clickedButton = document.getElementById('btn-' + tabId);
  if (clickedButton) clickedButton.classList.add("active");
  updateMiningDisplay();
  if(tabId==="mytab") loadProfileForm && loadProfileForm();
}
function addHistory(type, coin, amount, note) {
  const history = JSON.parse(localStorage.getItem("history")||"[]");
  history.unshift({
    date: new Date().toLocaleString(),
    type, coin, amount, note: note||""
  });
  localStorage.setItem("history", JSON.stringify(history));
}
function openHistoryModal() {
  document.getElementById('historyModal').style.display = 'flex';
  const history = JSON.parse(localStorage.getItem("history")||"[]");
  let html = "";
  if(history.length===0) {
    html = "<div style='color:#B07B00;text-align:center;margin:30px 0;'>No history found.</div>";
  } else {
    html = "<table style='width:100%;border-collapse:collapse;'><tr style='font-weight:bold;background:#FFD70011;'><td>Date</td><td>Type</td><td>Coin</td><td>Amount</td></tr>";
    history.forEach(h=>{
      html += `<tr>
        <td style="padding:4px 0;">${h.date}</td>
        <td style="padding:4px 0;">${h.type}</td>
        <td style="padding:4px 0;">${h.coin}</td>
        <td style="padding:4px 0;">${h.amount}</td>
      </tr>`;
    });
    html += "</table>";
  }
  document.getElementById('historyList').innerHTML = html;
}
function closeHistoryModal() {
  document.getElementById('historyModal').style.display = 'none';
}
function claimCoins() {
  if (miningBalance > 0) {
    walletBalance += miningBalance;
    addHistory('Claim', 'IND.COIN', miningBalance, 'Claimed mined coins');
    let addedUSDT = Math.floor(walletBalance / EXCHANGE_RATE);
    if (addedUSDT > 0) {
      usdtBalance += addedUSDT;
      addHistory('Convert', 'USDT', addedUSDT, 'Auto convert IND.COIN to USDT');
      walletBalance -= addedUSDT * EXCHANGE_RATE;
      localStorage.setItem("usdtBalance", usdtBalance.toString());
    }
    miningBalance = 0;
    localStorage.setItem("walletBalance", walletBalance.toString());
    localStorage.setItem("miningBalance", miningBalance.toString());
    updateMiningDisplay();
    alert("üéÅcongratulationsüéÅ");
  } else {
    alert("No IND.COIN available to claim.");
  }
}
function boostHashrate(stop) {
  hashrate += 0;
  localStorage.setItem("hashrate", hashrate.toString());
  updateMiningDisplay();
  alert("soon update : "+hashrate+" ");
}
function giveSocialBonus(platform, e) {
  const bonusKey = `socialBonus_${platform}_${userId}`;
  if (!localStorage.getItem(bonusKey)) {
    walletBalance += 1000;
    localStorage.setItem("walletBalance", walletBalance.toString());
    localStorage.setItem(bonusKey, "1");
    addHistory('Bonus', 'IND.COIN', '+1000', `Social bonus (${platform})`);
    updateMiningDisplay();
    alert(`100 IND.COIN bonus for following on ${platform.charAt(0).toUpperCase() + platform.slice(1)}!`);
  }
}
function toggleExchangeMenu() {
  const exchangeOptions = document.getElementById("exchangeOptions");
  exchangeOptions.style.display = exchangeOptions.style.display === "none" ? "flex" : "none";
}
function createExchangeModal(type) {
  let modal = document.createElement("div");
  modal.id = "exchangeModal";
  modal.style.position = "fixed";
  modal.style.top = "0";
  modal.style.left = "0";
  modal.style.width = "100vw";
  modal.style.height = "100vh";
  modal.style.background = "rgba(0,0,0,0.35)";
  modal.style.display = "flex";
  modal.style.alignItems = "center";
  modal.style.justifyContent = "center";
  modal.style.zIndex = "9999";
  let labelFrom = type === "usdt2ind" ? "USDT" : "IND.COIN";
  let labelTo = type === "usdt2ind" ? "IND.COIN" : "USDT";
  let balance = type === "usdt2ind" ? usdtBalance : walletBalance;
  let rateStr = type === "usdt2ind"
    ? `1 USDT = ${EXCHANGE_RATE} IND.COIN`
    : `1 IND.COIN = ${(1/EXCHANGE_RATE).toFixed(8)} USDT`;
  modal.innerHTML = `
    <div style="background:#fffbe6;padding:28px 22px 22px 22px;min-width:320px;border-radius:14px;box-shadow:0 4px 24px #FFD70033;max-width:94vw;">
      <h3 style="margin-top:0;color:#B07B00;font-size:1.2em;">Convert ${labelFrom} ‚Üí ${labelTo}</h3>
      <div style="margin-bottom:7px;font-size:14px;color:#B07B00;">Exchange Rate: <b>${rateStr}</b></div>
      <div style="margin-bottom:7px;font-size:14px;color:#B07B00;">Your ${labelFrom} Balance: <b>${balance.toFixed(6)}</b></div>
      <div style="display:flex;gap:6px;align-items:center;">
        <input type="number" min="0" step="any" id="exchangeInput" placeholder="Enter amount" style="flex:1;padding:10px;border-radius:7px;border:1.8px solid #FFD700;font-size:15px;margin-bottom:12px;background:#fff;color:#B07B00;">
        <button id="maxBtn" style="background:#FFD700;color:#fff;font-size:13px;border:none;border-radius:6px;padding:8px 15px;cursor:pointer;margin-bottom:12px;">MAX</button>
      </div>
      <div id="exchangeResult" style="color:#B07B00;font-size:14px;margin-bottom:12px;"></div>
      <button id="confirmExchangeBtn" style="background:#FFD700;color:#fff;padding:10px 22px;border-radius:8px;border:none;font-size:15px;font-weight:700;margin-right:7px;cursor:pointer;">
        Convert
      </button>
      <button onclick="document.body.removeChild(document.getElementById('exchangeModal'))" style="background:#FFE066;color:#B07B00;padding:10px 22px;border-radius:8px;border:none;font-size:15px;font-weight:700;cursor:pointer;">
        Cancel
      </button>
    </div>
  `;
  document.body.appendChild(modal);
  document.getElementById("maxBtn").onclick = function() {
    document.getElementById("exchangeInput").value = balance;
    document.getElementById("exchangeInput").dispatchEvent(new Event('input'));
  };
  document.getElementById("exchangeInput").oninput = function() {
    let val = parseFloat(this.value) || 0;
    let result;
    if(type === "usdt2ind") {
      result = val * EXCHANGE_RATE;
      document.getElementById("exchangeResult").innerText = `${val} USDT ‚Üí ${result} IND.COIN`;
    } else {
      result = val / EXCHANGE_RATE;
      document.getElementById("exchangeResult").innerText = `${val} IND.COIN ‚Üí ${result.toFixed(8)} USDT`;
    }
  };
  document.getElementById("confirmExchangeBtn").onclick = function() {
    let amount = parseFloat(document.getElementById("exchangeInput").value) || 0;
    if(amount <= 0) { alert("Enter a valid amount."); return; }
    if(type === "usdt2ind") {
      if(amount > usdtBalance) { alert("Insufficient USDT balance."); return; }
      let indAmount = amount * EXCHANGE_RATE;
      usdtBalance -= amount;
      walletBalance += indAmount;
      addHistory('Exchange', 'USDT', `-${amount}`, 'USDT to IND.COIN');
      addHistory('Exchange', 'IND.COIN', `+${indAmount}`, 'USDT to IND.COIN');
      localStorage.setItem("usdtBalance", usdtBalance.toString());
      localStorage.setItem("walletBalance", walletBalance.toString());
      updateMiningDisplay();
      alert(`Converted ${amount} USDT ‚Üí ${indAmount} IND.COIN`);
    } else {
      if(amount > walletBalance) { alert("Insufficient IND.COIN balance."); return; }
      let usdtAmount = amount / EXCHANGE_RATE;
      walletBalance -= amount;
      usdtBalance += usdtAmount;
      addHistory('Exchange', 'IND.COIN', `-${amount}`, 'IND.COIN to USDT');
      addHistory('Exchange', 'USDT', `+${usdtAmount.toFixed(8)}`, 'IND.COIN to USDT');
      localStorage.setItem("usdtBalance", usdtBalance.toString());
      localStorage.setItem("walletBalance", walletBalance.toString());
      updateMiningDisplay();
      alert(`Converted ${amount} IND.COIN ‚Üí ${usdtAmount.toFixed(8)} USDT`);
    }
    document.body.removeChild(document.getElementById('exchangeModal'));
  };
}
document.addEventListener("DOMContentLoaded", function() {
  document.getElementById("usdt2indBtn").onclick = function() {createExchangeModal("usdt2ind");};
  document.getElementById("ind2usdtBtn").onclick = function() {createExchangeModal("ind2usdt");};
});
function loadProfileForm() {
  const profileForm = document.getElementById('profileForm');
  const detailsBar = document.getElementById('profileDetails');
  const saved = JSON.parse(localStorage.getItem("profileData")||"{}");
  ["nationality","wallet","username","mobile","email","gender","birthday"].forEach(k=>{
    if(profileForm[k]) profileForm[k].value = saved[k]||"";
  });
  updateProfileDisplay();
}
function updateProfileDisplay() {
  const saved = JSON.parse(localStorage.getItem("profileData")||"{}");
  let html = '';
  Object.keys(saved).forEach(k=>{
    html += `<b>${k.charAt(0).toUpperCase()+k.slice(1)}:</b> ${saved[k]}<br>`;
  });
  document.getElementById('profileDetails').innerHTML = html||"No profile data saved.";
}
document.getElementById('profileForm').onsubmit = function(e) {
  e.preventDefault();
  const data = {};
  Array.from(this.elements).forEach(el=>{
    if(el.name) data[el.name]=el.value;
  });
  localStorage.setItem("profileData", JSON.stringify(data));
  document.getElementById('profileSavedMsg').style.display = "block";
  setTimeout(()=>document.getElementById('profileSavedMsg').style.display="none",2000);
  updateProfileDisplay();
  return false;
};
function openAIChat() {
  document.getElementById('aiChatModal').style.display = 'flex';
  document.getElementById('aiChatInput').focus();
  if(document.getElementById('aiChatMessages').innerHTML === '') {
    aiAddMsg('ai', 'Hi! ü§ñ IND.COIN AI Support at your service. How can I help you regarding IND.COIN?');
  }
}
function closeAIChat() {
  document.getElementById('aiChatModal').style.display = 'none';
}
function aiAddMsg(who, msg) {
  const el = document.getElementById('aiChatMessages');
  const bubble = `<div style="margin-bottom:7px;text-align:${who==='user'?'right':'left'};">
    <span style="display:inline-block;padding:7px 13px;border-radius:12px;background:${who==='user'?'#FFD700':'#fff'};color:${who==='user'?'#fffbe6':'#7b5600'};max-width:80%;word-break:break-word;">
      ${msg}
    </span>
  </div>`;
  el.innerHTML += bubble;
  el.scrollTop = el.scrollHeight;
}
document.getElementById('aiChatForm').onsubmit = function(e) {
  e.preventDefault();
  const input = document.getElementById('aiChatInput');
  const q = input.value.trim();
  if(!q) return;
  aiAddMsg('user', q);
  input.value = '';
  setTimeout(() => {
    aiAddMsg('ai', aiChatBotReply(q));
  }, 500);
};
function aiChatBotReply(q) {
  const txt = q.toLowerCase();
  if(txt.includes('coin') || txt.includes('ind')) return "IND.COIN is a digital mining coin for everyone! Earn coins, invite friends, and stake for more rewards.";
  if(txt.includes('withdraw')) return "Withdrawal feature is coming soon! Stay tuned for updates.";
  if(txt.includes('stake')) return "You can stake your IND.COIN and earn more rewards. Staking feature will be available soon.";
  if(txt.includes('bonus')) return "You get bonus IND.COIN for inviting friends and following our social channels!";
  if(txt.includes('invite')) return "Invite friends using your ID and earn level income bonuses!";
  if(txt.includes('usdt')) return "You can exchange IND.COIN to USDT ‚Äì just use the Exchange tab!";
  if(txt.includes('profile')) return "You can set your profile details in the MY Profile section.";
  return "Thank you for contacting IND.COIN support. For more info, ask about mining, staking, bonus, withdrawal, or assets!";
}
const LANGUAGES = [
  {name:'English', flag:'us'}, {name:'Hindi', flag:'in'}, {name:'Urdu', flag:'pk'},
  {name:'Gujarati', flag:'in'}, {name:'Marathi', flag:'in'}, {name:'Punjabi', flag:'in'},
  {name:'Bengali', flag:'bd'}, {name:'Tamil', flag:'in'}, {name:'Telugu', flag:'in'},
  {name:'Kannada', flag:'in'}, {name:'Malayalam', flag:'in'}, {name:'Spanish', flag:'es'},
  {name:'Arabic', flag:'sa'}, {name:'French', flag:'fr'}, {name:'Russian', flag:'ru'},
  {name:'Chinese', flag:'cn'}, {name:'Japanese', flag:'jp'}, {name:'German', flag:'de'},
  {name:'Italian', flag:'it'}, {name:'Turkish', flag:'tr'}, {name:'Korean', flag:'kr'},
  {name:'Indonesian', flag:'id'}, {name:'Thai', flag:'th'}, {name:'Portuguese', flag:'pt'}
];
function openLanguageModal() {
  document.getElementById('languageModal').style.display = 'flex';
  let html = '';
  LANGUAGES.forEach(lang => {
    html += `
      <button onclick="selectLanguage('${lang.name}', '${lang.flag}')" style="display:flex;align-items:center;gap:8px;width:100%;padding:9px 0 9px 4px;margin:0 0 3px 0;background:#fff;border-radius:7px;border:1px solid #FFD700;color:#7b5600;font-size:15px;cursor:pointer;">
        <img src="https://flagcdn.com/${lang.flag}.svg" width="22" style="border-radius:3px;"> ${lang.name}
      </button>
    `;
  });
  document.getElementById('langList').innerHTML = html;
}
function closeLanguageModal() {
  document.getElementById('languageModal').style.display = 'none';
}
function selectLanguage(name, flag) {
  document.getElementById('selectedLang').innerHTML = `<img src="https://flagcdn.com/${flag}.svg" width="16" style="vertical-align:middle;"/> ${name}`;
  closeLanguageModal();
}
</script>
</body>
</html>